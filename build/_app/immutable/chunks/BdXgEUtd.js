import{e as z,i as q,b as r,f as C,h as ve,t as H}from"./BljO_e8n.js";import{i as Y}from"./Bt8Tyy_Q.js";import{p as Z,I,m as e,J as L,a as ee,t as J,o as g,v as M,K as N,M as R,aj as Q,N as re,d as ae,u as W,F as O,G as he,b9 as oe,ba as ne}from"./D6Jb6PhO.js";import{e as _e,s as X}from"./D1I6Y9va.js";import{e as se,i as ue,C as fe,P as we}from"./Bitz-Ffb.js";import{p as w}from"./BnpNlDvq.js";import{c as de}from"./BuOnsFK7.js";import{d as $e,b as ye}from"./BlZWFytd.js";import{I as xe,b as ie,G as Pe}from"./BB-tgP0t.js";import{B as V,o as ke}from"./KbhgvUuq.js";import{y as ce,s as Te,n as Ce}from"./CvB_GpN9.js";import{p as be}from"./CSEEVcEO.js";var Ge=C('<div class="progress animated svelte-141bwmw"></div>'),Le=C('<div class="progress ended svelte-141bwmw"></div>');function qe($,a){Z(a,!1);let n=w(a,"duration",8,null),y=w(a,"showTimer",8,!1),x=L(!1);const P=de();Y();var l=z(),i=I(l);{var v=s=>{var t=Ge();J(()=>$e(t,`animation-duration: ${n()??""}s`)),_e("animationend",t,()=>{g(x,!0),setTimeout(()=>{g(x,!1)},200),P("timeout")}),r(s,t)},k=s=>{var t=z(),p=I(t);{var c=m=>{var u=Le();r(m,u)};q(p,m=>{e(x)&&m(c)},!0)}r(s,t)};q(i,s=>{n()&&y()&&!e(x)?s(v):s(k,!1)})}r($,l),ee()}function Ie($,a){Z(a,!1);let n=w(a,"i",8),y=w(a,"value",8),x=w(a,"expected",8);const P=de();let l=L("no answer");function i(){y()===x()?(g(l,"correct"),P("correct")):(g(l,"wrong"),P("wrong"))}Y();{let v=M(()=>e(l)==="no answer"),k=M(()=>e(l)==="correct"),s=M(()=>e(l)==="wrong"),t=M(()=>e(l)==="wrong"?"wrong":""),p=M(()=>n()*50);V($,{get primary(){return e(v)},get success(){return e(k)},get danger(){return e(s)},get class(){return e(t)},animate:!0,get delay(){return e(p)},elementType:"button",$$events:{click:ke(i)},children:(c,m)=>{var u=z(),b=I(u);ye(b,a,"default",{},null),r(c,u)},$$slots:{default:!0}})}ee()}var Be=ve(`<svg fill="currentColor" height="28" width="28" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon-close-circle"><circle fill="currentColor" cx="12" cy="12" r="10" class="primary svelte-1jj5zwg"></circle><path class="secondary svelte-1jj5zwg" fill="currentColor" d="M13.41 12l2.83 2.83a1 1 0 0 1-1.41 1.41L12 13.41l-2.83 2.83a1 1 0 1
    1-1.41-1.41L10.59 12 7.76 9.17a1 1 0 0 1 1.41-1.41L12 10.59l2.83-2.83a1 1 0
    0 1 1.41 1.41L13.41 12z"></path></svg>`);function me($){var a=Be();r($,a)}var je=ve(`<svg fill="currentColor" height="28" width="28" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon-close-circle"><circle cx="12" cy="12" r="10" class="primary"></circle><path class="secondary" d="M13.41 12l2.83 2.83a1 1 0 0 1-1.41 1.41L12 13.41l-2.83 2.83a1 1 0 1
    1-1.41-1.41L10.59 12 7.76 9.17a1 1 0 0 1 1.41-1.41L12 10.59l2.83-2.83a1 1 0
    0 1 1.41 1.41L13.41 12z"></path></svg>`);function Ae($){var a=je();r($,a)}var Re=C('<li class="svelte-1kywqc"><!></li>'),ze=C('<ul class="svelte-1kywqc"></ul>');function De($,a){let n=w(a,"results",8);var y=ze();se(y,5,n,ue,(x,P)=>{var l=Re(),i=N(l);{var v=s=>{xe(s,{})},k=s=>{var t=z(),p=I(t);{var c=u=>{me(u)},m=u=>{var b=z(),T=I(b);{var f=o=>{Ae(o)};q(T,o=>{e(P)===void 0&&o(f)},!0)}r(u,b)};q(p,u=>{e(P)===!1?u(c):u(m,!1)},!0)}r(s,t)};q(i,s=>{e(P)===!0?s(v):s(k,!1)})}R(l),r(x,l)}),R(y),r($,y)}var Me=C('<p class="svelte-l17ws0">Flawless! ðŸŽ‰</p>'),Ne=C('<p class="svelte-l17ws0">Passed! ðŸš€</p>'),Oe=C('<li class="svelte-l17ws0"> <span class="svelte-l17ws0"><!></span></li>'),We=C('<!> <ul class="svelte-l17ws0"></ul>',1),Ee=C('<h1 class="my-10 svelte-l17ws0" slot="header">REPORT CARD</h1>'),Fe=C('<div class="call-to-actions p-8 svelte-l17ws0" slot="footer"><!> <!></div>');function Se($,a){Z(a,!1);let n=w(a,"results",8),y=w(a,"restart",8),x=w(a,"flawless",8,!1),P=w(a,"passed",8,!1),l=w(a,"challenge",8);const{slug:i,id:v,questions:k,unlocks:s}=l();Y(),fe($,{children:(t,p)=>{var c=z(),m=I(c);{var u=T=>{var f=Me();r(T,f)},b=T=>{var f=We(),o=I(f);{var h=B=>{var D=Ne();r(B,D)};q(o,B=>{P()&&B(h)})}var _=re(o,2);se(_,5,()=>k,ue,(B,D,te)=>{var j=z(),A=I(j);{var E=d=>{var G=Oe(),F=N(G),K=re(F),S=N(K);me(S),R(K),R(G),J(()=>X(F,`${e(D),W(()=>e(D).q)??""} = ${e(D),W(()=>e(D).answer)??""} `)),r(d,G)};q(A,d=>{ae(n()),W(()=>!n()[te])&&d(E)})}r(B,j)}),R(_),r(T,f)};q(m,T=>{x()?T(u):T(b,!1)})}r(t,c)},$$slots:{default:!0,header:(t,p)=>{var c=Ee();r(t,c)},footer:(t,p)=>{var c=Fe(),m=N(c);{let f=M(()=>`/${i}/${v}`);V(m,{primary:!0,pill:!0,get href(){return e(f)},elementType:"link",$$events:{click(...o){var h;(h=y())==null||h.apply(this,o)}},children:(o,h)=>{Q();var _=H();J(()=>X(_,x()?"Again":"Try again")),r(o,_)},$$slots:{default:!0}})}var u=re(m,2);{var b=f=>{{let o=M(()=>`/${i}/${s}`);V(f,{success:!0,pill:!0,animate:!0,delay:100,get href(){return e(o)},elementType:"link",$$events:{click(...h){var _;(_=y())==null||_.apply(this,h)}},children:(h,_)=>{Q();var B=H("Next");r(h,B)},$$slots:{default:!0}})}},T=f=>{V(f,{success:!0,pill:!0,href:"/",elementType:"link",$$events:{click(...o){var h;(h=y())==null||h.apply(this,o)}},children:(o,h)=>{Q();var _=H("Overview");r(o,_)},$$slots:{default:!0}})};q(u,f=>{P()&&s?f(b):f(T,!1)})}R(c),r(t,c)}}}),ee()}var Je=C('<span slot="progress"><!></span>'),Ke=C('<h1 class="text-4xl m-5 p-0 mt-16 font-bold" slot="header"> </h1>'),Ue=C('<div slot="footer"><!></div>');function nt($,a){Z(a,!1);let n=w(a,"challenge",8),y=w(a,"onWrong",24,()=>be.add),x=w(a,"onCorrect",8,()=>{});const P=20;let l=n().questions.length,i=L(new Array(l)),v=L(0),k=L(!0),s=L(),t=L(),p=L(),c=L(),m=L();function u(){g(i,new Array(l)),g(v,0)}function b(){Ce.play(),e(i)[e(v)]===void 0&&ne(i,e(i)[e(v)]=!0),g(k,!1),setTimeout(()=>{g(k,!0),oe(v),x()(e(t))},200)}function T(){Te.play(),ne(i,e(i)[e(v)]=!1),y()(e(t))}function f(){T(),g(k,!1),setTimeout(()=>{g(k,!0),oe(v)},200)}O(()=>e(i),()=>{g(p,e(i).filter(o=>o===!1).length)}),O(()=>e(p),()=>{g(s,e(p)===0)}),O(()=>(ae(n()),e(v)),()=>{g(t,n().questions[e(v)])}),O(()=>e(p),()=>{g(c,e(p)<=Math.round(l*.2))}),O(()=>e(v),()=>{g(m,e(v)===l)}),O(()=>(e(m),e(s),ae(n()),e(c),ce),()=>{e(m)&&(e(s)&&ie.complete({category:n().category,challenge:n().id}),e(c)&&(ie.unlockNext({category:n().category,challenge:n().id}),ce.play()))}),he(),Y(),we($,{children:(o,h)=>{var _=z(),B=I(_);{var D=j=>{fe(j,{children:(A,E)=>{Pe(A,{children:(d,G)=>{var F=z(),K=I(F);se(K,3,()=>(e(t),W(()=>e(t).options)),(S,U)=>`${e(t).q}-${S}-${U}`,(S,U,ge)=>{Ie(S,{get i(){return e(ge)},get expected(){return e(t),W(()=>e(t).answer)},get value(){return e(U)},$$events:{correct:b,wrong:T},children:(pe,He)=>{Q();var le=H();J(()=>X(le,e(U))),r(pe,le)},$$slots:{default:!0}})}),r(d,F)},$$slots:{default:!0}})},$$slots:{default:!0,progress:(A,E)=>{var d=Je(),G=N(d);qe(G,{duration:P,get showTimer(){return e(k)},$$events:{timeout:f}}),R(d),r(A,d)},header:(A,E)=>{var d=Ke(),G=N(d,!0);R(d),J(()=>X(G,(e(t),W(()=>`${e(t).q} = ?`)))),r(A,d)},footer:(A,E)=>{var d=Ue(),G=N(d);De(G,{get results(){return e(i)}}),R(d),r(A,d)}}})},te=j=>{Se(j,{get challenge(){return n()},get results(){return e(i)},restart:u,get passed(){return e(c)},get flawless(){return e(s)}})};q(B,j=>{e(t)?j(D):j(te,!1)})}r(o,_)},$$slots:{default:!0}}),ee()}export{nt as G};
