import{w as n}from"./D6Jb6PhO.js";import{u as p}from"./Brd7-tEb.js";import{r as t}from"./Bitz-Ffb.js";const s={today:[],someday:[]};function i(){const c="tafels-app-practice",{subscribe:y,update:o}=n(s);return p({subscribe:y,update:o,key:c}),{subscribe:y,add:r=>{o(a=>(r.mistakes=r.mistakes?r.mistakes+1:1,r.lastTry=new Date,r.interval=1,a.today.push(r),a.today=t(a.today,"q"),a))},practiced:r=>{o(a=>(r.lastTry=new Date,r.interval*=2,a.someday.push(r),a.someday=t(a.someday,"q"),a.today=a.today.filter(e=>e.q!==r.q),a))},sync:()=>{o(r=>(r.someday.forEach(a=>{const e=new Date().getTime(),d=a.interval*12*60*60*1e3,m=new Date(a.lastTry).getTime();e>m+d&&r.today.push(a),r.today=t(r.today,"q")}),r))}}}const T=i();export{T as p};
