import{a as N,s as V,f as v,b as n,d as Q}from"../chunks/BljO_e8n.js";import{i as R}from"../chunks/Bt8Tyy_Q.js";import{Y as Z,Z as z,u as f,_ as H,a0 as y,h as L,a1 as O,p as U,F as X,G as q,a as ee,e as ae,I as te,t as W,N as k,K as i,o as re,J as se,$ as oe,M as d,m as p}from"../chunks/D6Jb6PhO.js";import{e as le,s as Y}from"../chunks/D1I6Y9va.js";import{P as ce,C as P,e as ne,s as ie,i as de}from"../chunks/Bitz-Ffb.js";import{h as fe}from"../chunks/D71gqWfy.js";import{r as ve,s as j,c as ue}from"../chunks/BlZWFytd.js";import{p as me}from"../chunks/CSEEVcEO.js";import{a as B}from"../chunks/Qw8oi2Ju.js";function pe(e,o,b=o){var t=new WeakSet;Z(e,"input",async l=>{var r=l?e.defaultValue:e.value;if(r=C(e)?E(r):r,b(r),y!==null&&t.add(y),await z(),r!==(r=o())){var _=e.selectionStart,c=e.selectionEnd,$=e.value.length;if(e.value=r??"",c!==null){var u=e.value.length;_===c&&c===$&&u>$?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=_,e.selectionEnd=Math.min(c,u))}}}),(L&&e.defaultValue!==e.value||f(o)==null&&e.value)&&(b(C(e)?E(e.value):e.value),y!==null&&t.add(y)),H(()=>{var l=o();if(e===document.activeElement){var r=O??y;if(t.has(r))return}C(e)&&l===E(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function C(e){var o=e.type;return o==="number"||o==="range"}function E(e){return e===""?null:+e}var be=v('<img class="object-contain w-full pb-8"/>'),he=v(`<div slot="footer" class="m-8"><label class="block text-gray-700 text-lg font-bold mb-2 center" for="name">Your name</label> <input id="name" type="text" class="text-2xl p-4 font-bold text-center bg-white focus:outline-none
        focus:shadow-outline border border-gray-300 py-2 px-4 block w-full
        appearance-none leading-normal rounded-full"/></div>`),_e=v('<tr><td class="p-4 text-left"><pre> </pre></td><td class="p-4 text-right"> </td></tr>'),$e=v('<div class="overflow-y-auto stats p-8 m-4 svelte-8i5vi8"><table class="table-fixed w-full"><thead><tr><th class="text-left w-1/2 p-4">Question</th><th class="text-right w-1/4 p-4">Mistakes</th></tr></thead><!></table></div>'),ge=v('<div class="p-10 text-lg text-center"><p>Tafels.app was created by <a href="https://koenvangilst.nl">Koen van Gilst</a> using Sapper and Svelte.</p> <p class="mt-2">The avatars are from <a href="https://bigheads.io" target="_blank">bigheads.io</a> made by <a href="https://twitter.com/robertbrosma">@robertbrosma</a></p> <div class="m-12"><a href="https://www.buymeacoffee.com/vnglst" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/default-green.png" alt="Buy Me A Coffee"/></a></div> <p class="my-4">ðŸš§ Work in Progress ðŸš§</p> <p><a href="https://github.com/vnglst/tafels.app">Source code on Github</a></p></div>'),xe=v('<h2 slot="header" class="m-8 text-4xl">About</h2>'),ye=v('<div slot="footer" class="p-5 text-center bg-red-100 rounded-b-lg"><button>Reset progress</button></div>'),ke=v("<!> <!> <!>",1);function Te(e,o){U(o,!1);const b=()=>V(me,"$practiceStore",l),t=()=>V(B,"$accountStore",l),[l,r]=N();let _=se();X(()=>b(),()=>{re(_,b().today.concat(b().someday).sort((c,$)=>$.mistakes-c.mistakes))}),q(),R(),fe("8i5vi8",c=>{ae(()=>{oe.title="Account - tafels.app"})}),ce(e,{children:(c,$)=>{var u=ke(),M=te(u);P(M,{children:(s,g)=>{var a=be();W(()=>{j(a,"src",(t(),f(()=>`.netlify/functions/bigheads/?seed=${t().name}`))),j(a,"alt",(t(),f(()=>t().name)))}),n(s,a)},$$slots:{default:!0,footer:(s,g)=>{var a=he(),m=k(i(a),2);ve(m),d(a),pe(m,()=>t().name,x=>Q(B,f(t).name=x,f(t))),n(s,a)}}});var A=k(M,2);P(A,{children:(s,g)=>{var a=$e(),m=i(a),x=k(i(m));ne(x,1,()=>p(_),de,(G,h,F)=>{var w=_e();ie(w,1,ue(F%2?"bg-gray-100":""));var S=i(w),K=i(S),I=i(K);d(K),d(S);var T=k(S),J=i(T,!0);d(T),d(w),W(()=>{Y(I,`${p(h),f(()=>p(h).q)??""} = ${p(h),f(()=>p(h).answer)??""}`),Y(J,(p(h),f(()=>p(h).mistakes)))}),n(G,w)}),d(m),d(a),n(s,a)},$$slots:{default:!0}});var D=k(A,2);P(D,{children:(s,g)=>{var a=ge();n(s,a)},$$slots:{default:!0,header:(s,g)=>{var a=xe();n(s,a)},footer:(s,g)=>{var a=ye(),m=i(a);d(a),le("click",m,x=>{confirm("Cannot be undone, are you sure?")?(localStorage.clear(),window.location.reload()):x.preventDefault()}),n(s,a)}}}),n(c,u)},$$slots:{default:!0}}),ee(),r()}export{Te as component};
